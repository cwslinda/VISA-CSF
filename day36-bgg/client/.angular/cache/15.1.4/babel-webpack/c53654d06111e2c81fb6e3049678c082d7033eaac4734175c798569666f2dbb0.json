{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../service/bgg.service\";\nimport * as i3 from \"@angular/common\";\nfunction CommentComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"table\", 3)(2, \"tr\")(3, \"td\");\n    i0.ɵɵtext(4, \"User:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"code\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"tr\")(9, \"td\");\n    i0.ɵɵtext(10, \"Comment:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"tr\")(14, \"td\");\n    i0.ɵɵtext(15, \"Rating\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const c_r1 = ctx.$implicit;\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(c_r1.user);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(c_r1.text);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(c_r1.rating);\n  }\n}\nconst _c0 = function () {\n  return [\"/\"];\n};\nexport class CommentComponent {\n  constructor(activedRoute, router, bggSvc) {\n    this.activedRoute = activedRoute;\n    this.router = router;\n    this.bggSvc = bggSvc;\n    this.comments = [];\n  }\n  ngOnInit() {\n    this.params$ = this.activedRoute.params.subscribe(params => {\n      const gameId = params['gameId'];\n      this.bggSvc.getCommentsById(gameId).then(result => {\n        this.comments = result;\n        console.log(\">>> comments:\", this.comments);\n      }).catch(error => {\n        console.error(\">>> error: \", error);\n      });\n    });\n  }\n  ngOnDestroy() {}\n}\nCommentComponent.ɵfac = function CommentComponent_Factory(t) {\n  return new (t || CommentComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.BggService));\n};\nCommentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CommentComponent,\n  selectors: [[\"app-comment\"]],\n  decls: 6,\n  vars: 4,\n  consts: [[3, \"routerLink\"], [\"class\", \"comments\", 4, \"ngFor\", \"ngForOf\"], [1, \"comments\"], [\"border\", \"1\"]],\n  template: function CommentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"h4\")(3, \"a\", 0);\n      i0.ɵɵtext(4, \"Back\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(5, CommentComponent_div_5_Template, 18, 3, \"div\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\"Comments (\", ctx.comments.length, \")\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.comments);\n    }\n  },\n  dependencies: [i3.NgForOf, i1.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAMAA,8BAAiD;IAGjCA,qBAAK;IAAAA,iBAAK;IACdA,0BAAI;IAAMA,YAAU;IAAAA,iBAAO;IAE/BA,0BAAI;IACIA,yBAAQ;IAAAA,iBAAK;IACjBA,2BAAI;IAAAA,aAAU;IAAAA,iBAAK;IAEvBA,2BAAI;IACIA,uBAAM;IAAAA,iBAAK;IACfA,2BAAI;IAAAA,aAAY;IAAAA,iBAAK;;;;IARXA,eAAU;IAAVA,+BAAU;IAIhBA,eAAU;IAAVA,+BAAU;IAIVA,eAAY;IAAZA,iCAAY;;;;;;ACN5B,OAAM,MAAOC,gBAAgB;EAK3BC,YAAoBC,YAA4B,EAAUC,MAAc,EAAUC,MAAkB;IAAhF,iBAAY,GAAZF,YAAY;IAA0B,WAAM,GAANC,MAAM;IAAkB,WAAM,GAANC,MAAM;IAFxF,aAAQ,GAAc,EAAE;EAE8E;EAEtGC,QAAQ;IACN,IAAI,CAACC,OAAO,GAAG,IAAI,CAACJ,YAAY,CAACK,MAAM,CAACC,SAAS,CAC/CD,MAAM,IAAG;MACP,MAAME,MAAM,GAAGF,MAAM,CAAC,QAAQ,CAAC;MAC/B,IAAI,CAACH,MAAM,CAACM,eAAe,CAACD,MAAM,CAAC,CAChCE,IAAI,CAACC,MAAM,IAAG;QACb,IAAI,CAACC,QAAQ,GAAGD,MAAM;QACtBE,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE,IAAI,CAACF,QAAQ,CAAC;MAC7C,CAAC,CAAC,CACDG,KAAK,CAACC,KAAK,IAAG;QACbH,OAAO,CAACG,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;MACrC,CAAC,CAAC;IACN,CAAC,CACF;EAEH;EAEAC,WAAW,IAAU;;AAxBVlB,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZ7BxB,0BAAI;MAAAA,YAA8B;MAAAA,iBAAK;MAEvCA,0BAAI;MACwBA,oBAAI;MAAAA,iBAAI;MAGpCA,kEAgBM;;;MAtBFA,eAA8B;MAA9BA,6DAA8B;MAG3BA,eAAoB;MAApBA,uDAAoB;MAGRA,eAAW;MAAXA,sCAAW","names":["i0","CommentComponent","constructor","activedRoute","router","bggSvc","ngOnInit","params$","params","subscribe","gameId","getCommentsById","then","result","comments","console","log","catch","error","ngOnDestroy","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/cws/Desktop/code/VISA/VISA-CSF/day36-bgg/client/src/app/components/comment.component.html","/Users/cws/Desktop/code/VISA/VISA-CSF/day36-bgg/client/src/app/components/comment.component.ts"],"sourcesContent":["<h2>Comments ({{comments.length}})</h2>\n\n<h4>\n    <a [routerLink]=\"['/']\">Back</a>\n</h4>\n\n<div *ngFor=\"let c of comments\" class=\"comments\">\n    <table border=\"1\">\n        <tr>\n            <td>User:</td>\n            <td><code>{{c.user}}</code></td>\n        </tr>\n        <tr>\n            <td>Comment:</td>\n            <td>{{c.text}}</td>\n        </tr>\n        <tr>\n            <td>Rating</td>\n            <td>{{c.rating}}</td>\n        </tr>\n    </table>\n\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Game, Comment } from '../models/models';\nimport { BggService } from '../service/bgg.service';\n\n\n@Component({\n  selector: 'app-comment',\n  templateUrl: './comment.component.html',\n  styleUrls: ['./comment.component.css']\n})\nexport class CommentComponent implements OnInit, OnDestroy{\n\n  params$!: Subscription\n  comments: Comment[] = []\n\n  constructor(private activedRoute: ActivatedRoute, private router: Router, private bggSvc: BggService){}\n  \n  ngOnInit(): void {\n    this.params$ = this.activedRoute.params.subscribe(\n      params => {\n        const gameId = params['gameId']\n        this.bggSvc.getCommentsById(gameId)\n          .then(result => {\n            this.comments = result\n            console.log(\">>> comments:\", this.comments)\n          })\n          .catch(error => {\n            console.error(\">>> error: \", error)\n          })\n      }\n    )\n    \n  }\n\n  ngOnDestroy(): void {}\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}